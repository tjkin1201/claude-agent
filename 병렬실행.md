# ë³‘ë ¬ Claude Code ì‹¤í–‰ ê°€ì´ë“œ

ì—¬ëŸ¬ CLI ì°½ì—ì„œ Claude Codeë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ì—¬ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ë³‘ë ¬ë¡œ ê°œë°œí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [Windows í™˜ê²½](#windows-í™˜ê²½)
3. [Linux í™˜ê²½](#linux-í™˜ê²½)
4. [ê³µí†µ ì„¤ì •](#ê³µí†µ-ì„¤ì •)
5. [ì‹¤ì „ ì˜ˆì œ](#ì‹¤ì „-ì˜ˆì œ)
6. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

## ê°œìš”

### ë³‘ë ¬ ì‘ì—…ì˜ ì¥ì 
- **ì‘ì—… ì†ë„ í–¥ìƒ**: ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì— ì§„í–‰
- **ì „ë¬¸í™”ëœ ì‘ì—…**: ê° ì„¸ì…˜ì´ íŠ¹ì • ì˜ì—­ì— ì§‘ì¤‘
- **íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ í™œìš©**: CPU ì½”ì–´ë¥¼ ìµœëŒ€í•œ í™œìš©
- **ë…ë¦½ì ì¸ ì»¨í…ìŠ¤íŠ¸**: ê° ì„¸ì…˜ì´ ë…ë¦½ëœ ì‘ì—… ì»¨í…ìŠ¤íŠ¸ ìœ ì§€

### í•„ìš” ì‚¬í•­
- Claude Code CLI ì„¤ì¹˜
- ì¶©ë¶„í•œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ (RAM 16GB ì´ìƒ ê¶Œì¥)
- Git (ë²„ì „ ê´€ë¦¬ìš©)
- í„°ë¯¸ë„ ë©€í‹°í”Œë ‰ì„œ (ì„ íƒì‚¬í•­)

## Windows í™˜ê²½

### 1. Windows Terminalì„ ì‚¬ìš©í•œ ë³‘ë ¬ ì‹¤í–‰

#### Windows Terminal ì„¤ì¹˜
```powershell
# Windows Package Manager ì‚¬ìš©
winget install Microsoft.WindowsTerminal

# ë˜ëŠ” Microsoft Storeì—ì„œ ì„¤ì¹˜
```

#### ë³‘ë ¬ íƒ­ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (PowerShell)

`parallel-claude-windows.ps1` íŒŒì¼ ìƒì„±:

```powershell
# ë³‘ë ¬ Claude Code ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
param(
    [int]$SessionCount = 4,
    [string]$ProjectPath = (Get-Location).Path
)

# Windows Terminal í”„ë¡œí•„ ìƒì„±
$sessions = @(
    @{Name="Frontend"; Task="/implement 'UI components' --persona-frontend"; Dir="$ProjectPath\frontend"},
    @{Name="Backend"; Task="/implement 'API endpoints' --persona-backend"; Dir="$ProjectPath\backend"},
    @{Name="Testing"; Task="/test --comprehensive --persona-qa"; Dir="$ProjectPath\tests"},
    @{Name="Docs"; Task="/document --persona-scribe"; Dir="$ProjectPath\docs"}
)

# Windows Terminal ëª…ë ¹ ìƒì„±
$wtCommand = "wt"

foreach ($session in $sessions) {
    $wtCommand += " new-tab --title `"$($session.Name)`" -d `"$($session.Dir)`" pwsh -NoExit -Command `"claude-code --session $($session.Name.ToLower())`""
}

# Windows Terminal ì‹¤í–‰
Invoke-Expression $wtCommand

Write-Host "âœ… $SessionCount ê°œì˜ Claude Code ì„¸ì…˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤." -ForegroundColor Green
```

#### ì‹¤í–‰ ë°©ë²•
```powershell
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ì„¤ì • (ìµœì´ˆ 1íšŒ)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
.\parallel-claude-windows.ps1 -SessionCount 4
```

### 2. ConEmuë¥¼ ì‚¬ìš©í•œ ë³‘ë ¬ ì‹¤í–‰

#### ConEmu ì„¤ì¹˜
```powershell
# Chocolatey ì‚¬ìš©
choco install conemu

# ë˜ëŠ” ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œ
# https://conemu.github.io/
```

#### ConEmu ì„¤ì • íŒŒì¼ (`ConEmu-Claude.xml`)

```xml
<?xml version="1.0" encoding="utf-8"?>
<ConEmu>
  <Tasks>
    <Task name="Claude Parallel" hotkey="" GuiArgs="">
      <Commands>
        <Command>-cur_console:n -cur_console:t:"Frontend" cmd /k "cd /d %PROJECT_PATH%\frontend && claude-code --session frontend"</Command>
        <Command>-cur_console:s1TVH -cur_console:t:"Backend" cmd /k "cd /d %PROJECT_PATH%\backend && claude-code --session backend"</Command>
        <Command>-cur_console:s1THV -cur_console:t:"Testing" cmd /k "cd /d %PROJECT_PATH%\tests && claude-code --session testing"</Command>
        <Command>-cur_console:s2THV -cur_console:t:"Docs" cmd /k "cd /d %PROJECT_PATH%\docs && claude-code --session docs"</Command>
      </Commands>
    </Task>
  </Tasks>
</ConEmu>
```

### 3. PowerShell ìë™í™” ìŠ¤í¬ë¦½íŠ¸

`start-parallel-sessions.ps1`:

```powershell
# ë³‘ë ¬ ì„¸ì…˜ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
[CmdletBinding()]
param(
    [Parameter(Mandatory=$false)]
    [int]$Sessions = 4,
    
    [Parameter(Mandatory=$false)]
    [string]$Project = "my-project",
    
    [Parameter(Mandatory=$false)]
    [string[]]$Tasks = @()
)

# ì„¸ì…˜ êµ¬ì„±
$sessionConfigs = @{
    1 = @{
        Name = "Frontend"
        WorkDir = ".\src\frontend"
        Command = "/implement 'React components' --persona-frontend --magic"
        Focus = "*.jsx,*.tsx,*.css"
    }
    2 = @{
        Name = "Backend"
        WorkDir = ".\src\backend"
        Command = "/implement 'REST API' --persona-backend --seq"
        Focus = "*.js,*.ts,*.sql"
    }
    3 = @{
        Name = "Testing"
        WorkDir = ".\tests"
        Command = "/test --e2e --persona-qa --play"
        Focus = "*.test.js,*.spec.js"
    }
    4 = @{
        Name = "DevOps"
        WorkDir = "."
        Command = "/ci-setup --persona-devops"
        Focus = "Dockerfile,*.yml,*.yaml"
    }
}

# ê³µìœ  TODO íŒŒì¼ ìƒì„±
$todoPath = ".\.claude\todos\shared-todo.json"
$todoContent = @{
    project = $Project
    created = (Get-Date -Format "yyyy-MM-dd HH:mm:ss")
    sessions = @()
    todos = @()
}

# ê° ì„¸ì…˜ ì‹œì‘
for ($i = 1; $i -le $Sessions; $i++) {
    $config = $sessionConfigs[$i]
    
    # ìƒˆ PowerShell ì°½ ì—´ê¸°
    $startInfo = New-Object System.Diagnostics.ProcessStartInfo
    $startInfo.FileName = "powershell.exe"
    $startInfo.Arguments = "-NoExit -Command `"" +
        "Set-Location '$($config.WorkDir)'; " +
        "Write-Host 'ğŸš€ Starting $($config.Name) Session' -ForegroundColor Cyan; " +
        "claude-code --session $($config.Name.ToLower()) --resume; " +
        "$($config.Command)`""
    $startInfo.WorkingDirectory = $config.WorkDir
    
    [System.Diagnostics.Process]::Start($startInfo)
    
    # TODO ë¦¬ìŠ¤íŠ¸ì— ì„¸ì…˜ ì¶”ê°€
    $todoContent.sessions += @{
        id = $i
        name = $config.Name
        status = "active"
        focus = $config.Focus
    }
    
    Write-Host "âœ… Started session $i: $($config.Name)" -ForegroundColor Green
    Start-Sleep -Seconds 2
}

# ê³µìœ  TODO íŒŒì¼ ì €ì¥
$todoContent | ConvertTo-Json -Depth 10 | Set-Content $todoPath
Write-Host "`nğŸ“‹ Shared TODO list created at: $todoPath" -ForegroundColor Yellow

# ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì‹œì‘ (ì„ íƒì‚¬í•­)
$monitor = Read-Host "`nëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N)"
if ($monitor -eq 'Y') {
    Start-Process powershell -ArgumentList "-NoExit", "-Command", "
        while (`$true) {
            Clear-Host
            Write-Host '=== Claude Code Parallel Sessions Monitor ===' -ForegroundColor Cyan
            Get-Process | Where-Object {`$_.ProcessName -like '*claude*'} | Format-Table
            Start-Sleep -Seconds 5
        }
    "
}
```

## Linux í™˜ê²½

### 1. tmuxë¥¼ ì‚¬ìš©í•œ ë³‘ë ¬ ì‹¤í–‰

#### tmux ì„¤ì¹˜
```bash
# Ubuntu/Debian
sudo apt-get install tmux

# RHEL/CentOS/Fedora
sudo yum install tmux

# Arch Linux
sudo pacman -S tmux
```

#### ë³‘ë ¬ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (`parallel-claude-linux.sh`)

```bash
#!/bin/bash

# ìƒ‰ìƒ ì •ì˜
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# ì„¤ì • ë³€ìˆ˜
PROJECT_NAME="${1:-my-project}"
SESSION_COUNT="${2:-4}"
PROJECT_PATH="${3:-$(pwd)}"

# tmux ì„¸ì…˜ ì´ë¦„
TMUX_SESSION="claude-parallel-$PROJECT_NAME"

# ê¸°ì¡´ ì„¸ì…˜ ì¢…ë£Œ
tmux kill-session -t $TMUX_SESSION 2>/dev/null

echo -e "${BLUE}ğŸš€ Starting $SESSION_COUNT parallel Claude Code sessions...${NC}"

# ìƒˆ tmux ì„¸ì…˜ ìƒì„±
tmux new-session -d -s $TMUX_SESSION -n "Frontend" -c "$PROJECT_PATH/frontend"

# Frontend ì„¸ì…˜
tmux send-keys -t $TMUX_SESSION:0.0 "claude-code --session frontend" C-m
sleep 1
tmux send-keys -t $TMUX_SESSION:0.0 "/implement 'UI components' --persona-frontend --magic" C-m

# Backend ì„¸ì…˜ (ìˆ˜í‰ ë¶„í• )
tmux split-window -h -t $TMUX_SESSION:0 -c "$PROJECT_PATH/backend"
tmux send-keys -t $TMUX_SESSION:0.1 "claude-code --session backend" C-m
sleep 1
tmux send-keys -t $TMUX_SESSION:0.1 "/implement 'API endpoints' --persona-backend --seq" C-m

# Testing ì„¸ì…˜ (ìˆ˜ì§ ë¶„í• )
tmux split-window -v -t $TMUX_SESSION:0.0 -c "$PROJECT_PATH/tests"
tmux send-keys -t $TMUX_SESSION:0.2 "claude-code --session testing" C-m
sleep 1
tmux send-keys -t $TMUX_SESSION:0.2 "/test --comprehensive --persona-qa --play" C-m

# Documentation ì„¸ì…˜ (ìˆ˜ì§ ë¶„í• )
tmux split-window -v -t $TMUX_SESSION:0.1 -c "$PROJECT_PATH/docs"
tmux send-keys -t $TMUX_SESSION:0.3 "claude-code --session docs" C-m
sleep 1
tmux send-keys -t $TMUX_SESSION:0.3 "/document --auto --persona-scribe" C-m

# ë ˆì´ì•„ì›ƒ ì¡°ì •
tmux select-layout -t $TMUX_SESSION:0 tiled

echo -e "${GREEN}âœ… All sessions started successfully!${NC}"
echo -e "${YELLOW}ğŸ“‹ To attach to the session, run:${NC}"
echo -e "${BLUE}   tmux attach-session -t $TMUX_SESSION${NC}"

# ì„ íƒì : ìë™ìœ¼ë¡œ ì„¸ì…˜ì— ì—°ê²°
read -p "Do you want to attach to the session now? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    tmux attach-session -t $TMUX_SESSION
fi
```

### 2. GNU Screenì„ ì‚¬ìš©í•œ ë³‘ë ¬ ì‹¤í–‰

#### Screen ì„¤ì¹˜
```bash
# Ubuntu/Debian
sudo apt-get install screen

# RHEL/CentOS/Fedora
sudo yum install screen
```

#### Screen ì„¤ì • íŒŒì¼ (`.screenrc-claude`)

```bash
# Claude Code ë³‘ë ¬ ì„¸ì…˜ ì„¤ì •
startup_message off
defscrollback 10000
term xterm-256color

# í™”ë©´ ë¶„í•  ë° ì„¸ì…˜ ìƒì„±
split -v
split
split

# ê° ì˜ì—­ì—ì„œ Claude Code ì‹¤í–‰
screen -t "Frontend" 0 bash -c "cd frontend && claude-code --session frontend"
screen -t "Backend" 1 bash -c "cd backend && claude-code --session backend"
screen -t "Testing" 2 bash -c "cd tests && claude-code --session testing"
screen -t "Docs" 3 bash -c "cd docs && claude-code --session docs"

# ìƒíƒœ í‘œì‹œì¤„
hardstatus alwayslastline
hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %m-%d %{W}%c %{g}]'
```

#### ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (`screen-parallel.sh`)

```bash
#!/bin/bash

# Screen ì„¸ì…˜ ì‹œì‘
screen -c .screenrc-claude -S claude-parallel

# ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ ì„¸ì…˜ ìƒì„±
create_screen_sessions() {
    local SESSION_NAME="claude-$1"
    
    # ìƒˆ screen ì„¸ì…˜ ìƒì„±
    screen -dmS $SESSION_NAME
    
    # ê° ì°½ ìƒì„± ë° ëª…ë ¹ ì‹¤í–‰
    screen -S $SESSION_NAME -X screen -t "Frontend" bash -c "cd frontend && claude-code --session frontend"
    screen -S $SESSION_NAME -X screen -t "Backend" bash -c "cd backend && claude-code --session backend"
    screen -S $SESSION_NAME -X screen -t "Testing" bash -c "cd tests && claude-code --session testing"
    screen -S $SESSION_NAME -X screen -t "Docs" bash -c "cd docs && claude-code --session docs"
    
    echo "Screen session '$SESSION_NAME' created with 4 Claude Code instances"
    echo "Attach with: screen -r $SESSION_NAME"
}

create_screen_sessions "project"
```

### 3. ê³ ê¸‰ Linux ìë™í™” ìŠ¤í¬ë¦½íŠ¸

`advanced-parallel.sh`:

```bash
#!/bin/bash

set -e

# ===== ì„¤ì • =====
PROJECT_NAME="${PROJECT_NAME:-my-project}"
BASE_DIR="${BASE_DIR:-$(pwd)}"
LOG_DIR="$BASE_DIR/.claude/logs"
TODO_FILE="$BASE_DIR/.claude/todos/shared-todo.json"
MAX_SESSIONS="${MAX_SESSIONS:-4}"

# ìƒ‰ìƒ ì½”ë“œ
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
MAGENTA='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
NC='\033[0m'

# ===== í•¨ìˆ˜ ì •ì˜ =====

# ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„±
create_log_dir() {
    mkdir -p "$LOG_DIR"
    echo -e "${GREEN}âœ… Log directory created: $LOG_DIR${NC}"
}

# ê³µìœ  TODO íŒŒì¼ ìƒì„±
create_shared_todo() {
    mkdir -p "$(dirname "$TODO_FILE")"
    
    cat > "$TODO_FILE" <<EOF
{
  "project": "$PROJECT_NAME",
  "created": "$(date -Iseconds)",
  "sessions": [],
  "todos": [
    {"id": 1, "task": "Frontend: Implement UI components", "assignee": "session-1", "status": "pending"},
    {"id": 2, "task": "Backend: Create API endpoints", "assignee": "session-2", "status": "pending"},
    {"id": 3, "task": "Testing: Write test suites", "assignee": "session-3", "status": "pending"},
    {"id": 4, "task": "Docs: Generate documentation", "assignee": "session-4", "status": "pending"}
  ]
}
EOF
    
    echo -e "${GREEN}âœ… Shared TODO file created: $TODO_FILE${NC}"
}

# Git worktree ì„¤ì • (ì„ íƒì‚¬í•­)
setup_worktrees() {
    echo -e "${BLUE}Setting up Git worktrees...${NC}"
    
    local branches=("frontend" "backend" "testing" "docs")
    
    for branch in "${branches[@]}"; do
        if ! git worktree list | grep -q "$branch"; then
            git worktree add "../$PROJECT_NAME-$branch" -b "$branch" 2>/dev/null || true
            echo -e "${GREEN}  âœ“ Worktree created: $branch${NC}"
        fi
    done
}

# tmux ì„¸ì…˜ ìƒì„±
create_tmux_session() {
    local session_name="claude-$PROJECT_NAME"
    
    # ê¸°ì¡´ ì„¸ì…˜ ì œê±°
    tmux kill-session -t "$session_name" 2>/dev/null || true
    
    # ì„¸ì…˜ ì„¤ì • ë°°ì—´
    declare -A sessions=(
        ["frontend"]="src/frontend|/implement 'UI components' --persona-frontend --magic"
        ["backend"]="src/backend|/implement 'API endpoints' --persona-backend --seq"
        ["testing"]="tests|/test --comprehensive --persona-qa --play"
        ["docs"]="docs|/document --auto --persona-scribe --c7"
    )
    
    # ì²« ë²ˆì§¸ ìœˆë„ìš° ìƒì„±
    tmux new-session -d -s "$session_name" -n "orchestrator" -c "$BASE_DIR"
    tmux send-keys -t "$session_name:orchestrator" "echo 'ğŸ¯ Orchestrator Session'" C-m
    
    # ê° ì‘ì—…ë³„ ìœˆë„ìš° ìƒì„±
    local window_num=1
    for name in "${!sessions[@]}"; do
        IFS='|' read -r path command <<< "${sessions[$name]}"
        
        # ìƒˆ ìœˆë„ìš° ìƒì„±
        tmux new-window -t "$session_name:$window_num" -n "$name" -c "$BASE_DIR/$path"
        
        # Claude Code ì‹¤í–‰
        tmux send-keys -t "$session_name:$window_num" \
            "claude-code --session $name --resume" C-m
        
        sleep 1
        
        # ì´ˆê¸° ëª…ë ¹ ì‹¤í–‰
        tmux send-keys -t "$session_name:$window_num" "$command" C-m
        
        echo -e "${GREEN}  âœ“ Started $name session${NC}"
        
        ((window_num++))
    done
    
    # ëª¨ë‹ˆí„°ë§ ìœˆë„ìš° ìƒì„±
    tmux new-window -t "$session_name:$window_num" -n "monitor" -c "$BASE_DIR"
    tmux send-keys -t "$session_name:$window_num" \
        "watch -n 2 'echo \"=== Claude Code Sessions ===\" && ps aux | grep claude-code | grep -v grep'" C-m
    
    echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo -e "${GREEN}âœ… tmux session '$session_name' created successfully!${NC}"
    echo -e "${YELLOW}ğŸ“‹ To attach: tmux attach-session -t $session_name${NC}"
    echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# í„°ë¯¸ë„ ë©€í‹°í”Œë ‰ì„œ ì„ íƒ
select_multiplexer() {
    if command -v tmux &> /dev/null; then
        echo "tmux"
    elif command -v screen &> /dev/null; then
        echo "screen"
    else
        echo "none"
    fi
}

# ë‹¨ìˆœ í„°ë¯¸ë„ ì‹¤í–‰ (ë©€í‹°í”Œë ‰ì„œ ì—†ì´)
run_simple_terminals() {
    echo -e "${YELLOW}âš ï¸  No terminal multiplexer found. Opening separate terminals...${NC}"
    
    local terminals=("gnome-terminal" "konsole" "xterm" "kitty" "alacritty")
    local term_cmd=""
    
    # ì‚¬ìš© ê°€ëŠ¥í•œ í„°ë¯¸ë„ ì°¾ê¸°
    for term in "${terminals[@]}"; do
        if command -v "$term" &> /dev/null; then
            term_cmd="$term"
            break
        fi
    done
    
    if [ -z "$term_cmd" ]; then
        echo -e "${RED}âŒ No supported terminal emulator found${NC}"
        exit 1
    fi
    
    # ê° ì„¸ì…˜ë³„ë¡œ í„°ë¯¸ë„ ì‹¤í–‰
    $term_cmd --title="Frontend" --working-directory="$BASE_DIR/frontend" \
        -e "bash -c 'claude-code --session frontend; exec bash'" &
    
    $term_cmd --title="Backend" --working-directory="$BASE_DIR/backend" \
        -e "bash -c 'claude-code --session backend; exec bash'" &
    
    $term_cmd --title="Testing" --working-directory="$BASE_DIR/tests" \
        -e "bash -c 'claude-code --session testing; exec bash'" &
    
    $term_cmd --title="Docs" --working-directory="$BASE_DIR/docs" \
        -e "bash -c 'claude-code --session docs; exec bash'" &
    
    echo -e "${GREEN}âœ… Launched 4 terminal windows${NC}"
}

# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì²´í¬
check_resources() {
    echo -e "${BLUE}Checking system resources...${NC}"
    
    local mem_available=$(free -m | awk 'NR==2{printf "%.1f", $7/1024}')
    local cpu_cores=$(nproc)
    
    echo -e "  Memory available: ${WHITE}${mem_available}GB${NC}"
    echo -e "  CPU cores: ${WHITE}${cpu_cores}${NC}"
    
    if (( $(echo "$mem_available < 4" | bc -l) )); then
        echo -e "${YELLOW}âš ï¸  Warning: Low memory available. Performance may be affected.${NC}"
    fi
    
    if (( cpu_cores < MAX_SESSIONS )); then
        echo -e "${YELLOW}âš ï¸  Warning: Running $MAX_SESSIONS sessions on $cpu_cores cores.${NC}"
    fi
}

# ì •ë¦¬ í•¨ìˆ˜
cleanup() {
    echo -e "\n${YELLOW}Cleaning up...${NC}"
    # í•„ìš”í•œ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰
    exit 0
}

# ===== ë©”ì¸ ì‹¤í–‰ =====

# ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ ì„¤ì •
trap cleanup INT TERM

# ë°°ë„ˆ ì¶œë ¥
echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${WHITE}   Claude Code Parallel Execution Manager${NC}"
echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"

# ë¦¬ì†ŒìŠ¤ ì²´í¬
check_resources

# ë””ë ‰í† ë¦¬ ë° íŒŒì¼ ìƒì„±
create_log_dir
create_shared_todo

# Git worktree ì„¤ì • (ì„ íƒì‚¬í•­)
read -p "Do you want to set up Git worktrees? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    setup_worktrees
fi

# ë©€í‹°í”Œë ‰ì„œ ì„ íƒ ë° ì‹¤í–‰
multiplexer=$(select_multiplexer)

case $multiplexer in
    tmux)
        create_tmux_session
        
        # ì„¸ì…˜ ì—°ê²° ì˜µì…˜
        read -p "Attach to tmux session now? (y/n) " -n 1 -r
        echo
        if [[ $REPLY =~ ^[Yy]$ ]]; then
            tmux attach-session -t "claude-$PROJECT_NAME"
        fi
        ;;
    screen)
        echo -e "${BLUE}Starting screen sessions...${NC}"
        # Screen êµ¬í˜„ (ìœ„ì˜ screen ìŠ¤í¬ë¦½íŠ¸ ì°¸ì¡°)
        ;;
    none)
        run_simple_terminals
        ;;
esac

echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${GREEN}ğŸ‰ Parallel execution setup complete!${NC}"
echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
```

## ê³µí†µ ì„¤ì •

### 1. ê³µìœ  TODO íŒŒì¼ êµ¬ì¡°

`.claude/todos/shared-todo.json`:

```json
{
  "project": "my-project",
  "version": "1.0.0",
  "created": "2024-01-01T00:00:00Z",
  "updated": "2024-01-01T00:00:00Z",
  "sessions": [
    {
      "id": "session-1",
      "name": "frontend",
      "type": "development",
      "status": "active",
      "assigned_tasks": [1, 5, 9],
      "completed_tasks": [],
      "working_directory": "./frontend",
      "focus_files": ["*.jsx", "*.tsx", "*.css"]
    },
    {
      "id": "session-2",
      "name": "backend",
      "type": "development",
      "status": "active",
      "assigned_tasks": [2, 6, 10],
      "completed_tasks": [],
      "working_directory": "./backend",
      "focus_files": ["*.js", "*.ts", "*.sql"]
    }
  ],
  "todos": [
    {
      "id": 1,
      "title": "Create login component",
      "description": "Implement login form with validation",
      "assignee": "session-1",
      "status": "in_progress",
      "priority": "high",
      "dependencies": [],
      "created": "2024-01-01T00:00:00Z",
      "updated": "2024-01-01T00:00:00Z"
    },
    {
      "id": 2,
      "title": "Create auth API",
      "description": "Implement JWT authentication endpoints",
      "assignee": "session-2",
      "status": "in_progress",
      "priority": "high",
      "dependencies": [],
      "created": "2024-01-01T00:00:00Z",
      "updated": "2024-01-01T00:00:00Z"
    }
  ]
}
```

### 2. ì„¸ì…˜ ê°„ ë™ê¸°í™” ì„¤ì •

`.claude/settings.json`:

```json
{
  "parallelExecution": {
    "enabled": true,
    "maxSessions": 8,
    "sharedTodoPath": ".claude/todos/shared-todo.json",
    "lockingStrategy": "optimistic",
    "syncInterval": 5000,
    "conflictResolution": "latest-write-wins"
  },
  "sessionDefaults": {
    "autoResume": true,
    "contextPreservation": true,
    "shareContext": true,
    "logLevel": "info"
  },
  "resourceLimits": {
    "maxTokensPerSession": 100000,
    "maxMemoryPerSession": "2GB",
    "cpuThrottling": false
  }
}
```

### 3. ì‘ì—… ë¶„ë°° ì „ëµ

`task-distribution.yaml`:

```yaml
distribution_strategies:
  by_domain:
    frontend:
      paths: [src/components, src/pages, src/styles]
      file_patterns: ["*.jsx", "*.tsx", "*.css", "*.scss"]
      agents: [frontend-developer, ui-ux-designer]
      
    backend:
      paths: [src/api, src/services, src/models]
      file_patterns: ["*.js", "*.ts", "*.py", "*.go"]
      agents: [backend-developer, database-optimizer]
      
    testing:
      paths: [tests, __tests__, e2e]
      file_patterns: ["*.test.*", "*.spec.*"]
      agents: [qa, test-automator]
      
    infrastructure:
      paths: [.github, docker, k8s, terraform]
      file_patterns: ["*.yml", "*.yaml", "Dockerfile", "*.tf"]
      agents: [devops-troubleshooter, cloud-architect]

  by_feature:
    user_authentication:
      sessions_required: 3
      tasks:
        - {session: 1, task: "UI: Login/Register forms"}
        - {session: 2, task: "API: Auth endpoints"}
        - {session: 3, task: "Tests: Auth flow testing"}
        
    payment_system:
      sessions_required: 4
      tasks:
        - {session: 1, task: "UI: Payment forms"}
        - {session: 2, task: "API: Payment processing"}
        - {session: 3, task: "Integration: Payment gateway"}
        - {session: 4, task: "Tests: Payment testing"}
```

## ì‹¤ì „ ì˜ˆì œ

### 1. E-commerce í”„ë¡œì íŠ¸ ë³‘ë ¬ ê°œë°œ

```bash
# Windows (PowerShell)
.\start-ecommerce-parallel.ps1

# Linux (Bash)
./start-ecommerce-parallel.sh
```

`start-ecommerce-parallel.sh`:

```bash
#!/bin/bash

PROJECT="ecommerce"
SESSIONS=6

# ì„¸ì…˜ êµ¬ì„±
declare -A SESSION_CONFIG=(
    ["1"]="frontend|Product Catalog UI"
    ["2"]="backend|Product API"
    ["3"]="payment|Payment Integration"
    ["4"]="cart|Shopping Cart Logic"
    ["5"]="testing|E2E Testing"
    ["6"]="docs|API Documentation"
)

# tmux ì„¸ì…˜ ìƒì„±
tmux new-session -d -s "$PROJECT"

for i in {1..6}; do
    IFS='|' read -r type task <<< "${SESSION_CONFIG[$i]}"
    
    if [ $i -eq 1 ]; then
        tmux send-keys -t "$PROJECT" "claude-code --session $type" C-m
    else
        tmux new-window -t "$PROJECT:$i" -n "$type"
        tmux send-keys -t "$PROJECT:$i" "claude-code --session $type" C-m
    fi
    
    sleep 1
    tmux send-keys -t "$PROJECT:$i" "/implement '$task'" C-m
done

tmux attach-session -t "$PROJECT"
```

### 2. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë³‘ë ¬ ê°œë°œ

```yaml
# microservices-parallel.yaml
services:
  user-service:
    session: 1
    path: ./services/user
    command: /implement "User management service"
    
  product-service:
    session: 2
    path: ./services/product
    command: /implement "Product catalog service"
    
  order-service:
    session: 3
    path: ./services/order
    command: /implement "Order processing service"
    
  gateway:
    session: 4
    path: ./gateway
    command: /implement "API Gateway"
```

### 3. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

`monitor-sessions.sh`:

```bash
#!/bin/bash

while true; do
    clear
    echo "=== Claude Code Parallel Sessions Monitor ==="
    echo "Time: $(date)"
    echo ""
    
    # í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
    echo "Active Sessions:"
    ps aux | grep "claude-code" | grep -v grep | awk '{print $2, $11, $12}'
    
    echo ""
    echo "Resource Usage:"
    # CPU ì‚¬ìš©ë¥ 
    top -bn1 | grep "claude" | head -5
    
    echo ""
    echo "TODO Status:"
    # TODO íŒŒì¼ ìƒíƒœ ì²´í¬
    if [ -f ".claude/todos/shared-todo.json" ]; then
        jq '.todos[] | select(.status != "completed") | {id, title, assignee, status}' \
            .claude/todos/shared-todo.json
    fi
    
    sleep 5
done
```

## ë¬¸ì œ í•´ê²°

### ê³µí†µ ë¬¸ì œì™€ í•´ê²° ë°©ë²•

#### 1. íŒŒì¼ ì¶©ëŒ
```bash
# Git ì¶©ëŒ í•´ê²°
git stash
git pull
git stash pop

# ìë™ ë³‘í•©
git config merge.tool vimdiff
git mergetool
```

#### 2. ë©”ëª¨ë¦¬ ë¶€ì¡±
```bash
# Linux: ìŠ¤ì™‘ íŒŒì¼ ì¶”ê°€
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# Windows: ê°€ìƒ ë©”ëª¨ë¦¬ ì¦ê°€
# ì‹œìŠ¤í…œ ì†ì„± > ê³ ê¸‰ > ì„±ëŠ¥ ì„¤ì • > ê°€ìƒ ë©”ëª¨ë¦¬
```

#### 3. ì„¸ì…˜ ë™ê¸°í™” ì‹¤íŒ¨
```bash
# ì ê¸ˆ íŒŒì¼ ì œê±°
rm .claude/todos/.lock

# ì„¸ì…˜ ì¬ì‹œì‘
tmux kill-session -t claude-parallel
./parallel-claude-linux.sh
```

#### 4. í¬íŠ¸ ì¶©ëŒ
```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
netstat -tulpn | grep claude

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 <PID>
```

### ì„±ëŠ¥ ìµœì í™” íŒ

1. **CPU ì½”ì–´ í• ë‹¹**
   ```bash
   # Linux: tasksetì„ ì‚¬ìš©í•œ CPU ì¹œí™”ë„ ì„¤ì •
   taskset -c 0,1 claude-code --session frontend
   taskset -c 2,3 claude-code --session backend
   ```

2. **ë©”ëª¨ë¦¬ ì œí•œ**
   ```bash
   # Linux: cgroups ì‚¬ìš©
   cgcreate -g memory:/claude
   echo 2G > /sys/fs/cgroup/memory/claude/memory.limit_in_bytes
   cgexec -g memory:claude claude-code
   ```

3. **I/O ìš°ì„ ìˆœìœ„**
   ```bash
   # Linux: ionice ì‚¬ìš©
   ionice -c 2 -n 0 claude-code --session critical
   ionice -c 3 claude-code --session background
   ```

## ê²°ë¡ 

ë³‘ë ¬ Claude Code ì‹¤í–‰ì€ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ ê°œë°œ ì†ë„ë¥¼ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì ì ˆí•œ ì‘ì—… ë¶„ë°°ì™€ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ë¥¼ í†µí•´ íš¨ìœ¨ì ì¸ ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•µì‹¬ í¬ì¸íŠ¸
- ì‘ì—…ì„ ë…ë¦½ì ì¸ ì˜ì—­ìœ¼ë¡œ ë¶„ë¦¬
- ì„¸ì…˜ ê°„ ì¶©ëŒ ìµœì†Œí™”
- ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”
- ìë™í™” ìŠ¤í¬ë¦½íŠ¸ í™œìš©

### ì¶”ê°€ ë¦¬ì†ŒìŠ¤
- [tmux ë§¤ë‰´ì–¼](https://github.com/tmux/tmux/wiki)
- [Windows Terminal ë¬¸ì„œ](https://docs.microsoft.com/windows/terminal/)
- [GNU Screen ê°€ì´ë“œ](https://www.gnu.org/software/screen/manual/)